<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 20px; font-weight: bold; fill: #333; }
      .box { fill: #f8f9fa; stroke: #007bff; stroke-width: 2; rx: 8; }
      .workspace-box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; rx: 8; }
      .project-box { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; rx: 8; }
      .document-box { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; rx: 8; }
      .text { font-family: Arial, sans-serif; font-size: 14px; fill: #333; }
      .small-text { font-family: Arial, sans-serif; font-size: 12px; fill: #666; }
      .api-text { font-family: Arial, sans-serif; font-size: 13px; fill: #007bff; font-weight: bold; }
      .arrow { stroke: #666; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="title">Document Search API Architecture</text>
  
  <!-- API Layer -->
  <rect x="50" y="60" width="700" height="80" class="box"/>
  <text x="400" y="85" text-anchor="middle" class="api-text">RESTful API Layer</text>
  <text x="100" y="105" class="small-text">Workspace Management</text>
  <text x="280" y="105" class="small-text">Project Management</text>
  <text x="450" y="105" class="small-text">Document Management</text>
  <text x="600" y="105" class="small-text">Search &amp; Index</text>
  <text x="100" y="125" class="small-text">CRUD Operations</text>
  <text x="280" y="125" class="small-text">CRUD Operations</text>
  <text x="450" y="125" class="small-text">Upload/Download</text>
  <text x="600" y="125" class="small-text">TNT Search Engine</text>
  
  <!-- Workspace Level -->
  <rect x="100" y="180" width="600" height="140" class="workspace-box"/>
  <text x="110" y="200" class="text">Workspace: "My Company"</text>
  <text x="110" y="220" class="small-text">• Multi-tenant isolation</text>
  <text x="110" y="235" class="small-text">• Workspace-scoped search</text>
  <text x="110" y="250" class="small-text">• Independent indexes</text>
  
  <!-- Project Level -->
  <rect x="150" y="270" width="220" height="40" class="project-box"/>
  <text x="160" y="290" class="text">Project: "Q4 2024"</text>
  
  <rect x="430" y="270" width="220" height="40" class="project-box"/>
  <text x="440" y="290" class="text">Project: "Marketing"</text>
  
  <!-- Document Level -->
  <rect x="120" y="350" width="140" height="60" class="document-box"/>
  <text x="130" y="370" class="text">Documents</text>
  <text x="130" y="385" class="small-text">• PDF Files</text>
  <text x="130" y="400" class="small-text">• Word Docs</text>
  
  <rect x="280" y="350" width="140" height="60" class="document-box"/>
  <text x="290" y="370" class="text">Documents</text>
  <text x="290" y="385" class="small-text">• Text Files</text>
  <text x="290" y="400" class="small-text">• Presentations</text>
  
  <rect x="450" y="350" width="140" height="60" class="document-box"/>
  <text x="460" y="370" class="text">Documents</text>
  <text x="460" y="385" class="small-text">• Images</text>
  <text x="460" y="400" class="small-text">• Reports</text>
  
  <rect x="610" y="350" width="140" height="60" class="document-box"/>
  <text x="620" y="370" class="text">Documents</text>
  <text x="620" y="385" class="small-text">• Spreadsheets</text>
  <text x="620" y="400" class="small-text">• Archives</text>
  
  <!-- Search Index -->
  <rect x="200" y="450" width="400" height="80" class="box"/>
  <text x="400" y="475" text-anchor="middle" class="text">TNT Search Index</text>
  <text x="210" y="495" class="small-text">• Full-text search across all documents</text>
  <text x="210" y="510" class="small-text">• Workspace and project filtering</text>
  <text x="210" y="525" class="small-text">• Fast boolean and fuzzy search</text>
  
  <!-- Arrows -->
  <line x1="400" y1="140" x2="400" y2="170" class="arrow"/>
  <line x1="260" y1="310" x2="190" y2="340" class="arrow"/>
  <line x1="350" y1="310" x2="350" y2="340" class="arrow"/>
  <line x1="540" y1="310" x2="520" y2="340" class="arrow"/>
  <line x1="540" y1="310" x2="680" y2="340" class="arrow"/>
  <line x1="400" y1="410" x2="400" y2="440" class="arrow"/>
  
  <!-- Legend -->
  <rect x="50" y="550" width="700" height="40" fill="#f8f9fa" stroke="#ddd" stroke-width="1" rx="4"/>
  <text x="60" y="570" class="small-text">API Endpoints: /api/workspaces/{workspace}/projects/{project}/documents | Search: /api/workspaces/{workspace}/search</text>
</svg>
